# โ ุงูุญู ุงููุงูู ููุดููุฉ ุงููุธุงุฆู ุงูุนุงูููุฉ

## ๐ด ุงููุดููุฉ ุงูุชู ูุงูุช ููุฌูุฏุฉ

ุนูุฏูุง ุงููุณุชุฎุฏู ููุดุฑ ูุธููุฉ ุนุงุฏูุฉ (ูุซู ุณุงุฆู) ููุฎุชุงุฑ ูู ุฅุนุฏุงุฏุงุช ุงููุดุฑ "ุนุงููู" (Wide Area)ุ ูุงู ุงูููุดูุฑ ูุธูุฑ ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงูููุฉ ุฑุบู ุฃูู ููุดูุฑ ูุธููุฉ ุนุงุฏู ูููุณ ูุธููุฉ ุนุงูููุฉ.

### ุงูุณุจุจ:
**ูุงู ููุงู ุฎูุท ุจูู ููููููู ูุฎุชูููู ุชูุงูุงู:**

1. **"ูุทุงู ุงูุงูุชุดุงุฑ" (Spread Scope)** - ูุญูู/ุนุงููู:
   - ูุญุฏุฏ **ุงูููุทูุฉ ุงูุฌุบุฑุงููุฉ** ุงูุชู ุณูุธูุฑ ูููุง ุงูููุดูุฑ
   - "ูุญูู" = ูุธูุฑ ูู ูุฏููุฉ/ุฏููุฉ ูุญุฏุฏุฉ
   - "ุนุงููู" = ูุธูุฑ ูุฌููุน ุงููุณุชุฎุฏููู ูู ูู ุงูุฏูู

2. **"ุงููุธุงุฆู ุงูุนุงูููุฉ" (Global Jobs)** - ุตูุญุฉ ูููุตูุฉ:
   - ููุน ุฎุงุต ูู ุงููุธุงุฆู ููุนูู ุฎุงุฑุฌ ุงูุฏููุฉ
   - ูุชุทูุจ ุฑุงุจุท ุชูุฏูู (Application URL)
   - ูุชุทูุจ ููุงู ุนูู ุฎุงุฑุฌู (Work Location)
   - ูุธูุฑ ูู ุตูุญุฉ ูููุตูุฉ ุชูุงูุงู ุงุณููุง "ุงููุธุงุฆู ุงูุนุงูููุฉ"
   - **ูุง ูุธูุฑ** ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงุฏูุฉ

---

## โ ุงูุญู ุงููุทุจู

### 1๏ธโฃ ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู (Frontend) - CreatePostModal.tsx

#### ุฃ) ุชุบููุฑ ูุณููุงุช "ุงููุทุงู ุงูุฌุบุฑุงูู" ููููู ุฃูุถุญ:

**ูุจู:**
```
- ูุญูู / ุนุงููู  
```

**ุจุนุฏ:**
```
- ูุทุงู ูุญุฏุฏ / ูุทุงู ูุงุณุน
- ูุน ุดุฑุญ: "ุญุฏุฏ ุงูููุทูุฉ ุงูุชู ุณูุธูุฑ ูููุง ููุดูุฑู"
```

#### ุจ) ุฅุถุงูุฉ ุชุญุฐูุฑ ูุงุถุญ ูู ูุณู ุงููุธุงุฆู ุงูุนุงูููุฉ:

```markdown
๐ ูุดุฑ ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงูููุฉ

โ๏ธ ูุฐู ุตูุญุฉ ูููุตูุฉ ุชูุงูุงู ุนู ุงููุธุงุฆู ุงูุนุงุฏูุฉ.
ุชุชุทูุจ ุฑุงุจุท ุชูุฏูู ูููุงู ุนูู ุฎุงุฑุฌู.
```

#### ุฌ) ุฅุถุงูุฉ ุชูุจูู ุฃุตูุฑ ุนูุฏ ุชูุนูู "ูุธููุฉ ุนุงูููุฉ":

```markdown
โ๏ธ ุชูุจูู ููู:
โข ูู ูุธูุฑ ูุฐุง ุงูููุดูุฑ ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงุฏูุฉ
โข ุณูุธูุฑ ููุท ูู ุตูุญุฉ "ุงููุธุงุฆู ุงูุนุงูููุฉ" ุงููููุตูุฉ
โข ูุฌุจ ููุก ุฑุงุจุท ุงูุชูุฏูู ูููุงู ุงูุนูู
```

### 2๏ธโฃ ุฅุถุงูุฉ ููุชุฑ ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงุฏูุฉ (JobsView.tsx)

**ุชู ุฅุถุงูุฉ ููุฏ ูุงุณุชุจุนุงุฏ ุงููุธุงุฆู ุงูุนุงูููุฉ ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงุฏูุฉ:**

```javascript
// CRITICAL FIX: Filter out global jobs from regular jobs page
const filteredPosts = postsArray.filter((p: any) => {
    // Exclude global jobs from regular jobs page
    if (p.isGlobalJob === true) {
        return false;
    }
    // ... rest of filtering
});
```

### 3๏ธโฃ ุงูุญู ุงููุงูู ูู ุงูู Backend (ูุทููุจ ุชุทุจููู)

#### ูู ููู `src/controllers/postController.js` - ุฏุงูุฉ `getPosts`:

**ูุฌุจ ุฅุถุงูุฉ ูุฐุง ุงูููุชุฑ:**

```javascript
// GET /api/v1/posts
const getPosts = async (req, res) => {
  try {
    const { category, postType, country, city, isGlobalJob } = req.query;
    
    const filter = {};
    
    // ุฅุฐุง ูุงู ุงูุจุญุซ ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงุฏูุฉุ ุงุณุชุจุนุฏ ุงููุธุงุฆู ุงูุนุงูููุฉ
    if (category && !isGlobalJob) {
      filter.isGlobalJob = { $ne: true }; // โญ ุงูุฅุถุงูุฉ ุงูุฌุฏูุฏุฉ
    }
    
    // ุฅุฐุง ูุงู ุงูุจุญุซ ุนู ุงููุธุงุฆู ุงูุนุงูููุฉ ููุท
    if (isGlobalJob === 'true') {
      filter.isGlobalJob = true;
    }
    
    if (category) filter.category = category;
    if (postType) filter.title = postType;
    if (country && country !== '') filter.country = country;
    if (city && city !== '') filter.city = city;
    
    const posts = await Post.find(filter)
      .populate('user', 'name avatar')
      .sort({ createdAt: -1 })
      .limit(100);
    
    res.status(200).json({ success: true, posts });
  } catch (error) {
    res.status(500).json({ success: false, error: error.message });
  }
};
```

---

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### โ ุงูุขู ุงูุณููู ุงูุตุญูุญ:

1. **ููุดูุฑ ูุธููุฉ ุนุงุฏู** (ุณุงุฆูุ ุทุจุงุฎุ ุฅูุฎ):
   - โ ูุธูุฑ ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงุฏูุฉ
   - โ ูุง ูุธูุฑ ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงูููุฉ
   - ูููู ุงุฎุชูุงุฑ "ูุทุงู ูุญุฏุฏ" ุฃู "ูุทุงู ูุงุณุน" ููุงูุชุดุงุฑ ุงูุฌุบุฑุงูู
   - ูุญุชุงุฌ ูุนูููุงุช ุงุชุตุงู (ุฑููุ ูุงุชุณุงุจุ ุฅูููู)

2. **ููุดูุฑ ูุธููุฉ ุนุงูููุฉ** (ูุธุงุฆู ุฎุงุฑุฌูุฉ):
   - โ ูุง ูุธูุฑ ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงุฏูุฉ
   - โ ูุธูุฑ ููุท ูู ุตูุญุฉ "ุงููุธุงุฆู ุงูุนุงูููุฉ"
   - ูุญุชุงุฌ ุฑุงุจุท ุชูุฏูู (Application URL) **ุฅุฌุจุงุฑู**
   - ูุญุชุงุฌ ููุงู ุนูู ุฎุงุฑุฌู (Work Location) **ุฅุฌุจุงุฑู**
   - ูุง ูุญุชุงุฌ ูุนูููุงุช ุงุชุตุงู (ูุนุชูุฏ ุนูู ุงูุฑุงุจุท)

---

## ๐ ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ 1: ููุดูุฑ ูุธููุฉ ุนุงุฏู
1. ุฅูุดุงุก ููุดูุฑ ุฌุฏูุฏ
2. ุงุฎุชูุงุฑ "ุงููุธุงุฆู" โ "ุณุงุฆู ุฎุงุต"
3. ูู ุฅุนุฏุงุฏุงุช ุงููุดุฑุ ุงุฎุชูุงุฑ "ูุทุงู ูุงุณุน"
4. **ูุง ุชูุนูู** "ูุธููุฉ ุนุงูููุฉ"
5. ุฃููู ุงููุดุฑ
6. โ **ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ูุธูุฑ ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงุฏูุฉ ููุท

### ุงุฎุชุจุงุฑ 2: ููุดูุฑ ูุธููุฉ ุนุงูููุฉ
1. ุฅูุดุงุก ููุดูุฑ ุฌุฏูุฏ
2. ุงุฎุชูุงุฑ "ุงููุธุงุฆู" โ "ุณุงุฆู ุฎุงุต"
3. **ูุนูู** "ูุธููุฉ ุนุงูููุฉ" ๐
4. ุฃุฏุฎู:
   - ุฑุงุจุท ุงูุชูุฏูู: https://example.com/apply
   - ููุงู ุงูุนูู: Dubai, UAE
5. ุฃููู ุงููุดุฑ
6. โ **ุงููุชูุฌุฉ ุงููุชููุนุฉ:** 
   - ูุง ูุธูุฑ ูู ุตูุญุฉ ุงููุธุงุฆู ุงูุนุงุฏูุฉ
   - ูุธูุฑ ููุท ูู ุตูุญุฉ "ุงููุธุงุฆู ุงูุนุงูููุฉ"

---

## ๐ง ูููุงุช ุชู ุชุนุฏูููุง

1. โ `/workspaces/MMMM/components/CreatePostModal.tsx`
   - ุชุบููุฑ ูุณููุงุช ุงููุทุงู ุงูุฌุบุฑุงูู
   - ุฅุถุงูุฉ ุชุญุฐูุฑุงุช ูุงุถุญุฉ
   - ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

2. โ `/workspaces/MMMM/components/JobsView.tsx`
   - ุฅุถุงูุฉ ููุชุฑ ูุงุณุชุจุนุงุฏ isGlobalJob ูู ุงููุธุงุฆู ุงูุนุงุฏูุฉ

3. โณ **ูุทููุจ ุชุทุจููู:** Backend - `src/controllers/postController.js`
   - ุฅุถุงูุฉ ููุชุฑ ูู ุฏุงูุฉ getPosts ูุงุณุชุจุนุงุฏ ุงููุธุงุฆู ุงูุนุงูููุฉ ูู ุงูุจุญุซ ุงูุนุงุฏู

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงููุฑู ุงูุฃุณุงุณู:**
   - "ูุทุงู ุงูุงูุชุดุงุฑ" (ูุญุฏุฏ/ูุงุณุน) = ูู ุณูุฑู ุงูููุดูุฑ ุฌุบุฑุงููุงู
   - "ูุธููุฉ ุนุงูููุฉ" = ููุน ููุดูุฑ ุฎุงุต ูุธูุฑ ูู ุตูุญุฉ ูููุตูุฉ

2. **ุงููุธุงุฆู ุงูุนุงูููุฉ ูุง ุชุญุชุงุฌ ูุนูููุงุช ุงุชุตุงู:**
   - ุงูุณุจุจ: ุงููุชูุฏู ุณูุฐูุจ ูุจุงุดุฑุฉ ูุฑุงุจุท ุงูุชูุฏูู ุงูุฎุงุฑุฌู

3. **ุงูุชุญุฏูุซ ูู Backend ุถุฑูุฑู:**
   - ุงูููุชุฑ ูู Frontend ูุคูุช
   - ูุฌุจ ุชุทุจูู ุงูููุชุฑ ูู Backend ููุฃูุงู ูุงูุฃุฏุงุก

---

## ๐ ุงูุฎูุงุตุฉ

ุชู ุญู ุงููุดููุฉ ุจุดูู ุฌุฐุฑู ูู ุฎูุงู:
1. โ ุชูุถูุญ ุงููุฑู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
2. โ ุฅุถุงูุฉ ุชุญุฐูุฑุงุช ูุงุถุญุฉ
3. โ ููุชุฑุฉ ุงูููุดูุฑุงุช ูู Frontend
4. โณ ุชูุซูู ุงูุญู ุงููุทููุจ ูู Backend

ุงูุขู ูุง ูููู ูููุณุชุฎุฏู ุงูุฎูุท ุจูู ุงููููููููุ ููู ููุน ููุดูุฑ ูุธูุฑ ูู ุงูููุงู ุงูุตุญูุญ!
